(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{581:function(t,e,n){"use strict";n.r(e);var a=n(26),r=n(81),c=n(82),u=n(154),i=n(152),s=n(0),o=n.n(s),l=n(74),f=n(94),p=n(24),d=n(7),h=n(27),m=n(61),k=n(153),b=n(2),v=n(512),y=function(t){var e=t.handleRteChange,n=t.value;return o.a.createElement("div",{className:"rte-wrapper",style:{maxWidth:"800px"}},o.a.createElement("label",{htmlFor:"tiny-mce"},"Description"),o.a.createElement(v.a,{id:"tiny-mce",init:{height:300},value:n,apiKey:"k1qq3q323co8ecr4m7d9c99qerp796vp0q3snnvpycqlaydi",onEditorChange:e}))},O=n(274),E=n(589),j=n(276),g=n(580),_=n(587),T=n(565),A=n(277),S=n(513),C=n(509),R=n.n(C),w=Object(p.b)(null,(function(t){return{actions:Object(d.b)(l,t)}}))((function(t){var e=t.taskStatusOptions,n=t.actions,r=Object(k.a)(t,["taskStatusOptions","actions"]),c=Object(b.g)(),u=Object(s.useState)({}),i=Object(m.a)(u,2),l=i[0],f=i[1],p=Object(s.useState)(!1),d=Object(m.a)(p,2),v=d[0],C=d[1],w=Object(s.useState)(Object(a.a)({},r.task)),I=Object(m.a)(w,2),L=I[0],x=I[1],P=function(t){var e=t.target,n=e.name,r=e.value;x((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(h.a)({},n,r))}))},D=function(){var t={};return!L.title&&Object(S.a)(L.title)&&(t.title="Title cannot be empty"),q(L.description)||(t.description="Invalid editor contents"),f(t),0===Object.keys(t).length},q=function(t){return R()(t,{exclusiveFilter:function(t){return"script"===t.tag},textFilter:function(t){return t.replace(/\\n|\s\s/g,"").trim()},allowedTags:R.a.defaults.allowedTags.concat(["h2"]),allowedAttributes:!1})};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,L._id?"Edit":"Create"," task"),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),D()&&(C(!0),n.saveTask(L).then((function(t){c.push("/task/".concat(t._id))})).catch((function(t){console.log("err",t)})).finally((function(){return C(!0)})))},noValidate:!0,autoComplete:"off",className:"task-form"},o.a.createElement(O.a,{margin:"dense",fullWidth:!0,error:!!l.title},o.a.createElement("label",{htmlFor:"title"},"Title"),o.a.createElement(E.a,{required:!0,id:"title",name:"title",autoFocus:!0,onChange:P,value:L.title}),l.title?o.a.createElement(j.a,null,l.title):null),o.a.createElement(O.a,{fullWidth:!0},o.a.createElement("label",{htmlFor:"status"},"Status"),o.a.createElement(g.a,{name:"status",id:"status",onChange:P,value:L.status,variant:"outlined"},e.map((function(t,e){return o.a.createElement(_.a,{key:e,value:t.value},t.name)})))),o.a.createElement(O.a,{fullWidth:!0,error:!!l.description},o.a.createElement(y,{handleRteChange:function(t){x((function(e){return Object(a.a)(Object(a.a)({},e),{},{description:t})}))},value:L.description}),l.description?o.a.createElement(j.a,null,l.description):null),o.a.createElement(T.a,{variant:"contained",color:"primary",type:"submit",disabled:v},"Save"),o.a.createElement("br",null),v?o.a.createElement(A.a,null):null))})),I=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={task:{}},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.taskInterface,n=t.actions,r=t.match,c=t.task,u=r.params.id;u?u&&0===Object.keys(c).length?n.getTaskById(u).catch((function(t){throw t})):this.setState({task:Object(a.a)({},c)}):this.setState({task:Object(a.a)({},e)})}},{key:"componentDidUpdate",value:function(t,e,n){Object.keys(t.task).length!==Object.keys(this.props.task).length&&this.setState({task:Object(a.a)({},this.props.task)})}},{key:"render",value:function(){var t=this.props.taskStatusOptions,e=this.state.task;return 0===Object.keys(e).length?o.a.createElement(f.a,null):o.a.createElement(w,{task:e,taskStatusOptions:t})}}]),n}(o.a.Component);e.default=Object(p.b)((function(t,e){var n=t.tasks,a=e.match.params.id;return{task:a&&n.length>0?n.find((function(t){return t._id===a})):{}}}),(function(t){return{actions:Object(d.b)(l,t)}}))(I)},59:function(t,e,n){"use strict";e.a={login:"/api/auth/login",task:"/api/task"}},70:function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"e",(function(){return f}));var a=n(79),r=n.n(a),c=n(59),u=function(t){var e=t?c.a.task+t:c.a.task;return r.a.get(e)},i=function(t){return r.a.get(c.a.task+"/".concat(t))},s=function(t){return r.a.post(c.a.task,t)},o=function(t){return r.a.put(c.a.task+"/".concat(t._id),t)},l=function(t){return r.a.delete(c.a.task+"/".concat(t))},f=function(){return r.a.get(c.a.task+"/status")}},74:function(t,e,n){"use strict";n.r(e),n.d(e,"getTasksSuccess",(function(){return s})),n.d(e,"setTaskCount",(function(){return o})),n.d(e,"getTaskByIdSuccess",(function(){return l})),n.d(e,"creteTaskSuccess",(function(){return f})),n.d(e,"updateTaskSuccess",(function(){return p})),n.d(e,"deleteTaskSuccess",(function(){return d})),n.d(e,"getTasks",(function(){return h})),n.d(e,"getTaskById",(function(){return m})),n.d(e,"saveTask",(function(){return k})),n.d(e,"deleteTask",(function(){return b}));var a=n(90),r=n.n(a),c=n(92),u=n(9),i=n(70);var s=function(t){return{type:u.a.READ_TASKS,payload:t}},o=function(t){return{type:u.a.SET_TASK_COUNT,payload:t}},l=function(t){return{type:u.a.GET_TASK_BY_ID,payload:t}},f=function(t){return{type:u.a.CREATE_TASK,payload:t}},p=function(t){return{type:u.a.UPDATE_TASK,payload:t}},d=function(t){return{type:u.a.DELETE_TASK,payload:t}},h=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n,a){var c,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"BEGIN_API_CALL"}),e.prev=1,c=a(),u=c.count,e.next=5,i.d(t);case 5:l=e.sent,n(s(l.data.items)),l.data.count!==u&&n(o(l.data.count)),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),n((e.t0,{type:"API_CALL_ERROR"})),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()},m=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"BEGIN_API_CALL"}),e.next=4,i.c(t);case 4:a=e.sent,n(l(a.data.item)),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),n((e.t0,{type:"API_CALL_ERROR"})),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},k=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:"BEGIN_API_CALL"}),!t._id){e.next=16;break}return e.prev=2,e.next=5,i.f(t);case 5:return a=e.sent,n(p(a.data.item)),e.abrupt("return",a.data.item);case 10:throw e.prev=10,e.t0=e.catch(2),n((e.t0,{type:"API_CALL_ERROR"})),e.t0;case 14:e.next=28;break;case 16:return e.prev=16,e.next=19,i.a(t);case 19:return c=e.sent,n(f(c.data.item)),e.abrupt("return",c.data.item);case 24:throw e.prev=24,e.t1=e.catch(16),n((e.t1,{type:"API_CALL_ERROR"})),e.t1;case 28:case"end":return e.stop()}}),e,null,[[2,10],[16,24]])})));return function(t){return e.apply(this,arguments)}}()},b=function(t){return function(e){return i.b(t).then((function(n){return e(d(t)),n})).catch((function(t){throw e({type:"API_CALL_ERROR"}),t}))}}}}]);
//# sourceMappingURL=12.18df004b.chunk.js.map