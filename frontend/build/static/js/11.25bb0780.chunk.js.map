{"version":3,"sources":["logo.svg","utilities/Axios/Interceptor.js","common/Logout/Logout.js","common/Header/HeaderUI.js","common/Header/Header.js","components/App/App.js","utilities/Auth/Auth.js","common/BackdropLoader/BackdropLoader.js"],"names":["module","exports","axios","interceptors","request","use","config","headers","Authorization","Auth","getAuthHeader","Logout","props","handleLogout","e","preventDefault","logout","setState","redirect","state","this","to","onClick","React","Component","useStyles","makeStyles","theme","root","flexGrow","Toolbar","minHeight","MenuList","padding","breakpoints","up","display","spacer","Grid","maxWidth","toggleMenu","toggleAvatarMenu","isDesktop","anchorEl","closeAvatarMenu","classes","className","AppBar","position","color","Box","container","item","Avatar","alt","src","logo","IconButton","edge","aria-label","Collapse","in","MenuItem","activeClassName","exact","aria-controls","aria-haspopup","Menu","keepMounted","open","onClose","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","Header","useState","setAnchorEl","window","outerWidth","setIsDesktop","useEffect","addEventListener","onResize","removeEventListener","HeaderUI","currentTarget","fallback","BackdropLoader","Home","loadable","PageNotFound","TaskRoute","TaskStatus","App","location","useLocation","isLoggedIn","Helmet","name","content","CssBaseline","Container","style","marginBottom","spacing","xs","md","path","setRedirectedUrl","pathname","auth","setLoginSession","response","loggedIn","localStorage","setItem","TOKEN_KEY","token","USER_KEY","JSON","stringify","user","EXPIRES_AT_KEY","expiresAt","tokenName","getItem","url","redirectedUrl","getRedirectedUrl","data","loginUrl","Promise","resolve","reject","fetch","method","Accept","body","then","res","status","json","catch","error","removeItem","parse","Date","now","backdrop","zIndex","drawer","background","size"],"mappings":"gHAAAA,EAAOC,QAAU,IAA0B,kC,qECG3CC,IAAMC,aAAaC,QAAQC,KAAI,SAACC,GAE9B,OADAA,EAAOC,QAAQC,cAAgBC,IAAKC,gBAC7BJ,K,0ICsBMK,E,kDAtBb,WAAaC,GAAQ,IAAD,8BAClB,cAAMA,IAMRC,aAAe,SAACC,GACdA,EAAEC,iBACFN,IAAKO,SACL,EAAKC,SAAS,CAAEC,UAAU,KAR1B,EAAKC,MAAQ,CACXD,UAAU,GAHM,E,qDAclB,OACEE,KAAKD,MAAMD,SACP,kBAAC,IAAD,CAAUG,GAAG,WACb,0BAAMC,QAASF,KAAKP,cAApB,c,GAlBWU,IAAMC,W,iKCiBrBC,EAAYC,aAAW,SAACC,GAAD,YAAY,CACvCC,KAAM,CACJC,SAAU,GAEZC,QAAS,CAAEC,UAAW,QACtBC,SAAU,CACRC,QAAS,EACT,2BACGN,EAAMO,YAAYC,GAAG,MAAQ,CAC5BC,QAAS,iBAFb,wBAIW,KAJX,IAOFC,OAAQ,CACNR,SAAU,GAEZS,KAAM,CACJC,SAAU,SAIC,cAAuF,IAApFC,EAAmF,EAAnFA,WAAYC,EAAuE,EAAvEA,iBAAkBC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,gBAC7DC,GAD6F,0FACnFpB,KAChB,OACE,yBAAKqB,UAAU,cACb,kBAACC,EAAA,EAAD,CAAQC,SAAS,SAASC,MAAM,WAC9B,kBAACnB,EAAA,EAAD,CAASgB,UAAU,kBACjB,kBAACI,EAAA,EAAD,CAAKJ,UAAU,gBACb,kBAACR,EAAA,EAAD,CAAMa,WAAS,GACb,kBAACb,EAAA,EAAD,CAAMc,MAAI,GAAC,kBAAC,IAAD,CAAS/B,GAAG,IAAIyB,UAAU,aAAY,kBAACO,EAAA,EAAD,CAAQC,IAAI,OAAOC,IAAKC,QACzE,kBAAClB,EAAA,EAAD,CAAMc,MAAI,GACR,kBAACK,EAAA,EAAD,CACEX,UAAU,yBAAyBY,KAAK,QAAQT,MAAM,UAAUU,aAAW,OAC3ErC,QAASkB,GAET,kBAAC,IAAD,UAKR,kBAACoB,EAAA,EAAD,CAAUC,GAAInB,GACZ,kBAACV,EAAA,EAAD,CAAUc,UAAWD,EAAQb,SAAW,oBACtC,kBAAC8B,EAAA,EAAD,KACE,kBAAC,IAAD,CAASC,gBAAgB,WAAWC,OAAK,EAAC3C,GAAG,KAA7C,SAEF,kBAACyC,EAAA,EAAD,KACE,kBAAC,IAAD,CAASC,gBAAgB,WAAW1C,GAAG,SAAvC,UAEF,kBAACyC,EAAA,EAAD,KACE,kBAAC,IAAD,CAASC,gBAAgB,WAAW1C,GAAG,SAAvC,WAIN,0BAAMyB,UAAU,WAChB,kBAACI,EAAA,EAAD,CAAKJ,UAAU,gBACb,kBAACW,EAAA,EAAD,CACEE,aAAW,0BACXM,gBAAc,cACdC,gBAAc,OACdjB,MAAM,UACN3B,QAASmB,GAET,kBAAC,IAAD,UAKR,kBAAC0B,EAAA,EAAD,CACExB,SAAUA,EACVyB,aAAW,EACXC,OAAQ1B,EACR2B,QAAS1B,EACT2B,mBAAoB,KACpBC,aAAc,CAAEC,SAAU,SAAUC,WAAY,SAChDC,gBAAiB,CAAEF,SAAU,MAAOC,WAAY,SAChD5B,UAAU,eAEV,kBAACgB,EAAA,EAAD,KACE,kBAAC,IAAD,CAAMzC,GAAG,YAAT,YAEF,kBAACyC,EAAA,EAAD,KACE,kBAAC,EAAD,UC9DKc,MAtCf,WAAoB,IAAD,EACeC,mBAAS,MADxB,mBACVlC,EADU,KACAmC,EADA,OAEiBD,mBAASE,OAAOC,WAAa,KAF9C,mBAEVtC,EAFU,KAECuC,EAFD,KAGjBC,qBAAU,WAER,OADAH,OAAOI,iBAAiB,SAAUC,GAC3B,WACLL,OAAOM,oBAAoB,SAAUD,OAIzC,IAAMA,EAAW,WACXL,OAAOC,WAAa,IACtBC,GAAa,GAEbA,GAAa,IAgBjB,OACE,kBAACK,EAAD,CACE9C,WAde,WACjByC,GAAcvC,IAaYD,iBAVH,SAAC3B,GACxBgE,EAAYhE,EAAEyE,gBAUZ3C,gBAPoB,WACtBkC,EAAY,OAMwBnC,SAAUA,EAAUD,UAAWA,KC1BjE8C,EAAW,kBAACC,EAAA,EAAD,MACXC,EAAOC,aAAS,kBAAM,iCAAwB,CAAEH,aAChDI,EAAeD,aAAS,kBAAM,kCAC9BE,EAAYF,aAAS,kBAAM,iCAA6B,CAAEH,aAC1DM,EAAaH,aAAU,kBAAK,wDAoCnBI,UAlCf,WACE,IAAMC,EAAWC,cACjB,OAAKxF,IAAKyF,aAKR,oCACE,kBAACC,EAAA,EAAD,KACE,mDACA,0BAAMC,KAAK,cAAcC,QAAQ,oFAEnC,kBAACC,EAAA,EAAD,MACA,kBAAC,EAAD,MACA,6BACA,kBAACC,EAAA,EAAD,CAAWhE,UAAU,EAAOO,UAAU,eAAe0D,MAAO,CAACC,aAAc,SACzE,kBAACnE,EAAA,EAAD,CAAMa,WAAS,EAACuD,QAAS,GACvB,kBAACpE,EAAA,EAAD,CAAMc,MAAI,EAACuD,GAAI,GAAIC,GAAI,GACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO5C,OAAK,EAAC6C,KAAK,KAAlB,IAAuB,kBAACnB,EAAD,OACvB,kBAAC,IAAD,CAAOmB,KAAK,SAAZ,IAAqB,kBAAChB,EAAD,OACrB,kBAAC,IAAD,KAAO,kBAACD,EAAD,SAGX,kBAACtD,EAAA,EAAD,CAAMc,MAAI,EAACuD,GAAI,GAAIC,GAAI,GACrB,qCACA,kBAACd,EAAD,WAvBRrF,IAAKqG,iBAAiBd,EAASe,UACxB,kBAAC,IAAD,CAAU1F,GAAG,c,oDC8ClB2F,EAAO,I,WAjEX,aAAgB,IAAD,gCA6CfC,gBAAkB,SAACC,GACjB,EAAKC,UAAW,EAChBC,aAAaC,QAAQ,EAAKC,UAAWJ,EAASK,OAC9CH,aAAaC,QAAQ,EAAKG,SAAUC,KAAKC,UAAUR,EAASS,OAC5DP,aAAaC,QAAQ,EAAKO,eAAgBV,EAASW,YAjDtC,KAoDfnH,cAAgB,WAAqB,IAApBoH,EAAmB,uDAAP,GAC3B,MAAqB,KAAdA,EAAmBA,EAAY,UAAYV,aAAaW,QAAQ,EAAKT,YArD/D,KAwDfR,iBAAmB,SAACkB,GAClB,EAAKC,cAAgBD,GAzDR,KA4DfE,iBAAmB,WACjB,OAAO,EAAKD,eA5DZ7G,KAAK+F,UAAW,EAChB/F,KAAK6G,eAAgB,EACrB7G,KAAKkG,UAAY,WACjBlG,KAAKoG,SAAW,WAChBpG,KAAKwG,eAAiB,Y,kDAGjBO,EAAMC,GAAW,IAAD,OACrB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,MAAMJ,EAAU,CACdK,OAAQ,OACRlI,QAAS,CACPmI,OAAQ,mBACR,eAAgB,oBAElBC,KAAMlB,KAAKC,UAAUS,KAEpBS,MAAK,SAAAC,GACJ,OAAmB,MAAfA,EAAIC,OACCD,EAAIE,OAAOH,MAAK,SAAAC,GAAS,MAAMA,KAEjCA,EAAIE,UAEZH,MAAK,SAACC,GACL,EAAK5B,gBAAgB4B,GACrBP,EAAQO,MAETG,OAAM,SAACC,GACNV,EAAOU,W,+BAMb7B,aAAa8B,WAAW9H,KAAKkG,WAC7BF,aAAa8B,WAAW9H,KAAKoG,UAC7BJ,aAAa8B,WAAW9H,KAAKwG,kB,mCAI7B,IAAMC,EAAYJ,KAAK0B,MAAM/B,aAAaW,QAAQ3G,KAAKwG,iBACvD,OAAOwB,KAAKC,MAAQxB,M,MAyBTb,O,gCCpEf,+CAKMvF,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2H,SAAU,CACRC,OAAQ5H,EAAM4H,OAAOC,OAAS,EAC9BvG,MAAO,OACPwG,WAAY,mBAID,eACb,IAAM5G,EAAUpB,IAChB,OACE,6BACE,kBAAC,IAAD,CAAUqB,UAAWD,EAAQyG,SAAUjF,MAAM,GAC3C,kBAAC,IAAD,CAAkBqF,KAAM","file":"static/js/11.25bb0780.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import axios from 'axios';\nimport Auth from '../Auth/Auth'\n\naxios.interceptors.request.use((config) => {\n  config.headers.Authorization = Auth.getAuthHeader()\n  return config;\n})\n","import React from 'react'\nimport Auth from '../../utilities/Auth/Auth'\nimport { Redirect } from 'react-router-dom'\n\nclass Logout extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      redirect: false\n    }\n  }\n\n  handleLogout = (e) => {\n    e.preventDefault()\n    Auth.logout()\n    this.setState({ redirect: true })\n  }\n\n  render () {\n    return (\n      this.state.redirect\n        ? <Redirect to='/login' />\n        : <span onClick={this.handleLogout}>Logout</span>\n    )\n  }\n}\n\nexport default Logout\n","import React from 'react'\nimport Logout from '../Logout/Logout'\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Avatar,\n  Menu,\n  MenuItem,\n  MenuList,\n  Box,\n  Grid,\n  Collapse\n} from '@material-ui/core/'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport { makeStyles } from '@material-ui/core/styles'\nimport './header.scss'\nimport { NavLink, Link } from 'react-router-dom'\nimport logo from '../../logo.svg'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1\n  },\n  Toolbar: { minHeight: 'auto' },\n  MenuList: {\n    padding: 0,\n    '& li': {\n      [theme.breakpoints.up('sm')]: {\n        display: 'inline-block'\n      },\n      padding: '0'\n    }\n  },\n  spacer: {\n    flexGrow: 1\n  },\n  Grid: {\n    maxWidth: 100\n  }\n}))\n\nexport default ({ toggleMenu, toggleAvatarMenu, isDesktop, anchorEl, closeAvatarMenu, ...props }) => {\n  const classes = useStyles()\n  return (\n    <div className='top-header'>\n      <AppBar position='static' color='primary'>\n        <Toolbar className='toolbar-custom'>\n          <Box className='logo-wrapper'>\n            <Grid container>\n              <Grid item><NavLink to='/' className='page-logo'><Avatar alt='logo' src={logo} /></NavLink></Grid>\n              <Grid item>\n                <IconButton\n                  className='toggle-top-level-links' edge='start' color='inherit' aria-label='menu'\n                  onClick={toggleMenu}\n                >\n                  <MenuIcon />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Box>\n          <Collapse in={isDesktop}>\n            <MenuList className={classes.MenuList + ' top-level-links'}>\n              <MenuItem>\n                <NavLink activeClassName='selected' exact to='/'>Home</NavLink>\n              </MenuItem>\n              <MenuItem>\n                <NavLink activeClassName='selected' to='/task'>Tasks</NavLink>\n              </MenuItem>\n              <MenuItem>\n                <NavLink activeClassName='selected' to='/test'>Test</NavLink>\n              </MenuItem>\n            </MenuList>\n          </Collapse>\n          <span className='spacer' />\n          <Box className='header-icons'>\n            <IconButton\n              aria-label='account of current user'\n              aria-controls='menu-appbar'\n              aria-haspopup='true'\n              color='inherit'\n              onClick={toggleAvatarMenu}\n            >\n              <AccountCircle />\n            </IconButton>\n          </Box>\n        </Toolbar>\n      </AppBar>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={!!anchorEl}\n        onClose={closeAvatarMenu}\n        getContentAnchorEl={null}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n        className='avatar-menu'\n      >\n        <MenuItem>\n          <Link to='/profile'>Profile</Link>\n        </MenuItem>\n        <MenuItem>\n          <Logout />\n        </MenuItem>\n      </Menu>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport HeaderUI from './HeaderUI'\n\nfunction Header () {\n  const [anchorEl, setAnchorEl] = useState(null)\n  const [isDesktop, setIsDesktop] = useState(window.outerWidth > 600)\n  useEffect(() => {\n    window.addEventListener('resize', onResize)\n    return () => {\n      window.removeEventListener('resize', onResize)\n    }\n  })\n\n  const onResize = () => {\n    if (window.outerWidth > 600) {\n      setIsDesktop(true)\n    } else {\n      setIsDesktop(false)\n    }\n  }\n\n  const toggleMenu = () => {\n    setIsDesktop(!isDesktop)\n  }\n\n  const toggleAvatarMenu = (e) => {\n    setAnchorEl(e.currentTarget)\n  }\n\n  const closeAvatarMenu = () => {\n    setAnchorEl(null)\n  }\n\n  return (\n    <HeaderUI\n      toggleMenu={toggleMenu} toggleAvatarMenu={toggleAvatarMenu}\n      closeAvatarMenu={closeAvatarMenu} anchorEl={anchorEl} isDesktop={isDesktop}\n    />\n  )\n}\n\nexport default Header\n","import '../../utilities/Axios/Interceptor'\nimport loadable from '@loadable/component'\nimport React from 'react'\nimport Auth from '../../utilities/Auth/Auth'\nimport { Route, Switch, Redirect, useLocation } from 'react-router-dom'\nimport BackdropLoader from '../../common/BackdropLoader/BackdropLoader'\nimport { Container, CssBaseline, Grid } from '@material-ui/core'\nimport { Helmet } from 'react-helmet'\nimport Header from '../../common/Header/Header'\n\nconst fallback = <BackdropLoader />\nconst Home = loadable(() => import('../Home/Home'), { fallback })\nconst PageNotFound = loadable(() => import('../PageNotFound/PageNotFound'))\nconst TaskRoute = loadable(() => import('../Task/TaskRoute'), { fallback });\nconst TaskStatus = loadable( ()=> import('../Task/TaskStatus') )\n\nfunction App () {\n  const location = useLocation()\n  if (!Auth.isLoggedIn()) {\n    Auth.setRedirectedUrl(location.pathname)\n    return <Redirect to='/login' />\n  }\n  return (\n    <>\n      <Helmet>\n        <title>Mern Starter Kit</title>\n        <meta name='description' content='A starter kit for building web apps using MongoDB, ExpressJS, ReactJS & NodeJS' />\n      </Helmet>\n      <CssBaseline />\n      <Header />\n      <br/>\n      <Container maxWidth={false} className='main-content' style={{marginBottom: '30px'}}>\n        <Grid container spacing={4}>\n          <Grid item xs={12} md={8}>\n            <Switch>\n              <Route exact path='/'> <Home /></Route>\n              <Route path='/task'> <TaskRoute /></Route>\n              <Route><PageNotFound /></Route>\n            </Switch>\n          </Grid>\n          <Grid item xs={12} md={4}>\n            <h1>Aside</h1>\n            <TaskStatus/>\n          </Grid>\n        </Grid>\n      </Container>\n    </>\n  )\n}\n\nexport default App\n","class Auth {\n  constructor () {\n    this.loggedIn = false\n    this.redirectedUrl = false\n    this.TOKEN_KEY = 'appToken'\n    this.USER_KEY = 'APP_USER'\n    this.EXPIRES_AT_KEY = 'expiresAt'\n  }\n\n  login (data, loginUrl) {\n    return new Promise((resolve, reject) => {\n      fetch(loginUrl, {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      })\n        .then(res => {\n          if (res.status !== 200) {\n            return res.json().then(res => { throw res })\n          }\n          return res.json()\n        })\n        .then((res) => {\n          this.setLoginSession(res)\n          resolve(res)\n        })\n        .catch((error) => {\n          reject(error)\n        })\n    })\n  }\n\n  logout () {\n    localStorage.removeItem(this.TOKEN_KEY)\n    localStorage.removeItem(this.USER_KEY)\n    localStorage.removeItem(this.EXPIRES_AT_KEY)\n  }\n\n  isLoggedIn () {\n    const expiresAt = JSON.parse(localStorage.getItem(this.EXPIRES_AT_KEY))\n    return Date.now() < expiresAt\n  }\n\n  setLoginSession = (response) => {\n    this.loggedIn = true\n    localStorage.setItem(this.TOKEN_KEY, response.token)\n    localStorage.setItem(this.USER_KEY, JSON.stringify(response.user))\n    localStorage.setItem(this.EXPIRES_AT_KEY, response.expiresAt)\n  }\n\n  getAuthHeader = (tokenName = '') => {\n    return tokenName !== '' ? tokenName : 'Bearer ' + localStorage.getItem(this.TOKEN_KEY)\n  }\n\n  setRedirectedUrl = (url) => {\n    this.redirectedUrl = url\n  }\n\n  getRedirectedUrl = () => {\n    return this.redirectedUrl\n  }\n}\n\nconst auth = new Auth()\n\nexport default auth\n","import React from 'react'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n    background: 'transparent'\n  },\n}))\n\nexport default () => {\n  const classes = useStyles()\n  return (\n    <div>\n      <Backdrop className={classes.backdrop} open={true}>\n        <CircularProgress size={60}/>\n      </Backdrop>\n    </div>\n  )\n}\n"],"sourceRoot":""}