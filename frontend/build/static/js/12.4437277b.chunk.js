(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{336:function(t,e,n){"use strict";n.r(e);var a=n(25),r=n(75),c=n(76),u=n(135),i=n(134),s=n(0),o=n.n(s),l=n(62),p=n(77),f=n(23),d=n(7),m=n(26),k=n(61),h=n(85),b=n(2),v=n(271),y=function(t){var e=t.handleRteChange,n=t.value;return o.a.createElement("div",{className:"rte-wrapper",style:{maxWidth:"800px"}},o.a.createElement("label",{htmlFor:"tiny-mce"},"Description"),o.a.createElement(v.a,{id:"tiny-mce",init:{height:300},value:n,apiKey:"k1qq3q323co8ecr4m7d9c99qerp796vp0q3snnvpycqlaydi",onEditorChange:e}))},O=n(173),E=n(344),j=n(175),g=n(335),T=n(342),S=n(321),_=n(176),A=n(272),x=n(269),C=n.n(x),w=Object(f.b)(null,(function(t){return{actions:Object(d.b)(l,t)}}))((function(t){var e=t.taskStatusOptions,n=t.actions,r=Object(h.a)(t,["taskStatusOptions","actions"]),c=Object(b.g)(),u=Object(s.useState)({}),i=Object(k.a)(u,2),l=i[0],p=i[1],f=Object(s.useState)(!1),d=Object(k.a)(f,2),v=d[0],x=d[1],w=Object(s.useState)(Object(a.a)({},r.task)),I=Object(k.a)(w,2),D=I[0],q=I[1],B=function(t){var e=t.target,n=e.name,r=e.value;q((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(m.a)({},n,r))}))},F=function(){var t={};return!D.title&&Object(A.a)(D.title)&&(t.title="Title cannot be empty"),K(D.description)||(t.description="Invalid editor contents"),p(t),0===Object.keys(t).length},K=function(t){return C()(t,{exclusiveFilter:function(t){return"script"===t.tag},textFilter:function(t){return t.replace(/\\n|\s\s/g,"").trim()},allowedTags:C.a.defaults.allowedTags.concat(["h2"]),allowedAttributes:!1})};return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,D._id?"Edit":"Create"," task"),o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),F()&&(x(!0),n.saveTask(D).then((function(t){c.push("/task/".concat(t._id))})).catch((function(t){console.log("err",t)})).finally((function(){return x(!0)})))},noValidate:!0,autoComplete:"off",className:"task-form"},o.a.createElement(O.a,{margin:"dense",fullWidth:!0,error:!!l.title},o.a.createElement("label",{htmlFor:"title"},"Title"),o.a.createElement(E.a,{required:!0,id:"title",name:"title",autoFocus:!0,onChange:B,value:D.title}),l.title?o.a.createElement(j.a,null,l.title):null),o.a.createElement(O.a,{fullWidth:!0},o.a.createElement("label",{htmlFor:"status"},"Status"),o.a.createElement(g.a,{name:"status",id:"status",onChange:B,value:D.status,variant:"outlined"},e.map((function(t,e){return o.a.createElement(T.a,{key:e,value:t.value},t.name)})))),o.a.createElement(O.a,{fullWidth:!0,error:!!l.description},o.a.createElement(y,{handleRteChange:function(t){q((function(e){return Object(a.a)(Object(a.a)({},e),{},{description:t})}))},value:D.description}),l.description?o.a.createElement(j.a,null,l.description):null),o.a.createElement(S.a,{variant:"contained",color:"primary",type:"submit",disabled:v},"Save"),o.a.createElement("br",null),v?o.a.createElement(_.a,null):null))})),I=function(t){Object(u.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).state={task:{}},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this.props,e=t.taskInterface,n=t.actions,r=t.match,c=t.task,u=r.params.id;u?u&&0===Object.keys(c).length?n.getTaskById(u).catch((function(t){throw t})):this.setState({task:Object(a.a)({},c)}):this.setState({task:Object(a.a)({},e)})}},{key:"componentDidUpdate",value:function(t,e,n){Object.keys(t.task).length!==Object.keys(this.props.task).length&&this.setState({task:Object(a.a)({},this.props.task)})}},{key:"render",value:function(){var t=this.props.taskStatusOptions,e=this.state.task;return 0===Object.keys(e).length?o.a.createElement(p.a,null):o.a.createElement(w,{task:e,taskStatusOptions:t})}}]),n}(o.a.Component);e.default=Object(f.b)((function(t,e){var n=t.tasks,a=e.match.params.id;return{task:a&&n.length>0?n.find((function(t){return t._id===a})):{}}}),(function(t){return{actions:Object(d.b)(l,t)}}))(I)},59:function(t,e,n){"use strict";e.a={login:"/api/auth/login",task:"/api/task"}},62:function(t,e,n){"use strict";n.r(e),n.d(e,"getTasksSuccess",(function(){return m})),n.d(e,"setTaskCount",(function(){return k})),n.d(e,"getTaskByIdSuccess",(function(){return h})),n.d(e,"creteTaskSuccess",(function(){return b})),n.d(e,"updateTaskSuccess",(function(){return v})),n.d(e,"deleteTaskSuccess",(function(){return y})),n.d(e,"getTasks",(function(){return O})),n.d(e,"getTaskById",(function(){return E})),n.d(e,"saveTask",(function(){return j})),n.d(e,"deleteTask",(function(){return g}));var a=n(71),r=n.n(a),c=n(73),u=n(9),i=n(74),s=n.n(i),o=n(59),l=function(t){var e=t?o.a.task+t:o.a.task;return s.a.get(e)},p=function(t){return s.a.get(o.a.task+"/".concat(t))},f=function(t){return s.a.post(o.a.task,t)},d=function(t){return s.a.put(o.a.task+"/".concat(t._id),t)};var m=function(t){return{type:u.a.READ_TASKS,payload:t}},k=function(t){return{type:u.a.SET_TASK_COUNT,payload:t}},h=function(t){return{type:u.a.GET_TASK_BY_ID,payload:t}},b=function(t){return{type:u.a.CREATE_TASK,payload:t}},v=function(t){return{type:u.a.UPDATE_TASK,payload:t}},y=function(t){return{type:u.a.DELETE_TASK,payload:t}},O=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"BEGIN_API_CALL"}),e.prev=1,e.next=4,l(t);case 4:a=e.sent,n(m(a.data.items)),n(k(a.data.count)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},E=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:"BEGIN_API_CALL"}),e.next=4,p(t);case 4:a=e.sent,n(h(a.data.item)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:"BEGIN_API_CALL"}),!t._id){e.next=15;break}return e.prev=2,e.next=5,d(t);case 5:return a=e.sent,n(v(a.data.item)),e.abrupt("return",a.data.item);case 10:e.prev=10,e.t0=e.catch(2);case 13:e.next=26;break;case 15:return e.prev=15,e.next=18,f(t);case 18:return c=e.sent,n(b(c.data.item)),e.abrupt("return",c.data.item);case 23:e.prev=23,e.t1=e.catch(15);case 26:case"end":return e.stop()}}),e,null,[[2,10],[15,23]])})));return function(t){return e.apply(this,arguments)}}()},g=function(t){return function(e){return function(t){return s.a.delete(o.a.task+"/".concat(t))}(t).then((function(n){return e(y(t)),n})).catch((function(t){}))}}}}]);
//# sourceMappingURL=12.4437277b.chunk.js.map