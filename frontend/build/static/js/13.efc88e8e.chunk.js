(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{578:function(e,t,a){"use strict";a.r(t);var n=a(81),r=a(82),c=a(154),u=a(152),s=a(0),i=a.n(s),o=a(24),l=a(7),m=a(74),p=a(2),f=a(569),d=a(570),v=a(272),k=a(571),h=a(565),E=function(e){var t=e.items,a=e.remove,n=Object(p.g)();return i.a.createElement("div",{className:"TaskList"},t.map((function(e,t){return i.a.createElement(f.a,{key:t,className:"card-item",variant:"outlined"},i.a.createElement(d.a,null,i.a.createElement(v.a,{variant:"h4"},e.title,i.a.createElement(v.a,{variant:"caption"},i.a.createElement("span",{className:"custom-badge ".concat(e.status)},e.status))),i.a.createElement(v.a,{dangerouslySetInnerHTML:{__html:e.description}}),i.a.createElement(k.a,null,i.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return n.push("/task/".concat(e._id))}},"Details"),i.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return n.push("/task/edit/".concat(e._id))}},"Edit"),i.a.createElement(h.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return a(e._id)}},"remove"))))})))},y=a(61),g=a(575),b=a(112),T=a.n(b),_=function(e){var t=e.count,a=e.callback,n=Object(p.g)(),r=T.a.parse(n.location.search),c=Object(s.useState)(parseInt(r.page)||1),u=Object(y.a)(c,1)[0];return t>1?i.a.createElement(g.a,{color:"secondary",shape:"rounded",size:"small",id:"pagination",count:t,defaultPage:u,onChange:function(e,t){var r=T.a.parse(n.location.search);r.page=t;var c=T.a.stringify(r);n.push({search:c}),a()}}):null},A=a(556),O=a(514),C=a(580),I=a(587),j=a(506),w=a.n(j),L=[{name:"Date added (oldest)",value:"createdAt"},{name:"Date added (newest)",value:"-createdAt"},{name:"Title (a-z)",value:"title"},{name:"Title (z-a)",value:"-title"}],R=function(e){var t=e.callback,a=Object(p.g)(),n=T.a.parse(a.location.search),r=Object(s.useState)(n.sortBy||L[0].value),c=Object(y.a)(r,2),u=c[0],o=c[1];return i.a.createElement(A.a,{container:!0,alignItems:"center",spacing:1},i.a.createElement(A.a,{item:!0},i.a.createElement(w.a,null)),i.a.createElement(A.a,{item:!0},i.a.createElement(O.a,{htmlFor:"sortBy"},"Sort By:")),i.a.createElement(A.a,{item:!0},i.a.createElement(C.a,{id:"sortBy",value:u,onChange:function(e){var n=e.target.value;o(n);var r=T.a.parse(a.location.search);r.sortBy=n;var c=T.a.stringify(r);a.push({search:c}),t()}},L.map((function(e,t){return i.a.createElement(I.a,{key:t,value:e.value},e.name)})))))},S=a(507),B=a.n(S),x=[{name:"1",value:"1"},{name:"5",value:"5"},{name:"10",value:"10"},{name:"25",value:"25"},{name:"50",value:"50"},{name:"100",value:"100"}],P=function(e){var t=e.callback,a=Object(p.g)(),n=T.a.parse(a.location.search),r=Object(s.useState)(n.limit||x[2].value),c=Object(y.a)(r,2),u=c[0],o=c[1];return i.a.createElement(A.a,{container:!0,spacing:1,alignItems:"center"},i.a.createElement(A.a,{item:!0},i.a.createElement(B.a,null)),i.a.createElement(A.a,{item:!0},i.a.createElement(O.a,{htmlFor:"limitResult"},"Items per page:")),i.a.createElement(A.a,{item:!0},i.a.createElement(C.a,{id:"limitResult",value:u,onChange:function(e){var n=e.target.value;o(n);var r=T.a.parse(a.location.search);r.limit=n;var c=T.a.stringify(r);a.push({search:c}),t()}},x.map((function(e,t){return i.a.createElement(I.a,{key:t,value:e.value},e.name)})))))},N=a(94),D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).loadTasks=function(t,a){var n=e.props,r=n.actions,c=n.history,u=T.a.parse(c.location.search),s=T.a.stringify(u);s=s?"?"+s:"",r.getTasks(s)},e.remove=function(t){e.props.actions.deleteTask(t).then((function(e){}))},e.handleNewTask=function(){e.props.history.push("/task/create")},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.loadTasks()}},{key:"render",value:function(){var e=this.props,t=e.tasks,a=e.loading,n=e.taskCount,r=e.history,c=T.a.parse(r.location.search),u=c.page||1,s=parseInt(c.limit)||10,o=n?Math.round(n/s):1;return a?i.a.createElement(N.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement(v.a,{variant:"h3",gutterBottom:!0},"All Tasks",i.a.createElement(v.a,{variant:"caption",gutterBottom:!0,onClick:this.handleNewTask,style:{cursor:"pointer"}},"New Task"))),i.a.createElement(A.a,{container:!0,spacing:2,alignItems:"center",justify:"flex-end",className:"filters-wrapper"},i.a.createElement(A.a,{item:!0},i.a.createElement(R,{callback:this.loadTasks})),i.a.createElement(A.a,{item:!0},i.a.createElement(P,{callback:this.loadTasks}))),i.a.createElement(E,{items:t,remove:this.remove}),i.a.createElement("br",null),i.a.createElement(_,{page:u,count:o,callback:this.loadTasks}))}}]),a}(i.a.PureComponent),z=Object(o.b)((function(e,t){var a=e.task,n=e.apiCallInProgress;return{tasks:a.items?a.items:[],taskCount:a.taskCount,loading:n>0}}),(function(e){return{actions:Object(l.b)(m,e)}}));t.default=z(D)},59:function(e,t,a){"use strict";t.a={login:"/api/auth/login",task:"/api/task"}},70:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return m}));var n=a(79),r=a.n(n),c=a(59),u=function(e){var t=e?c.a.task+e:c.a.task;return r.a.get(t)},s=function(e){return r.a.get(c.a.task+"/".concat(e))},i=function(e){return r.a.post(c.a.task,e)},o=function(e){return r.a.put(c.a.task+"/".concat(e._id),e)},l=function(e){return r.a.delete(c.a.task+"/".concat(e))},m=function(){return r.a.get(c.a.task+"/status")}},74:function(e,t,a){"use strict";a.r(t),a.d(t,"getTasksSuccess",(function(){return i})),a.d(t,"setTaskCount",(function(){return o})),a.d(t,"getTaskByIdSuccess",(function(){return l})),a.d(t,"creteTaskSuccess",(function(){return m})),a.d(t,"updateTaskSuccess",(function(){return p})),a.d(t,"deleteTaskSuccess",(function(){return f})),a.d(t,"getTasks",(function(){return d})),a.d(t,"getTaskById",(function(){return v})),a.d(t,"saveTask",(function(){return k})),a.d(t,"deleteTask",(function(){return h}));var n=a(90),r=a.n(n),c=a(92),u=a(9),s=a(70);var i=function(e){return{type:u.a.READ_TASKS,payload:e}},o=function(e){return{type:u.a.SET_TASK_COUNT,payload:e}},l=function(e){return{type:u.a.GET_TASK_BY_ID,payload:e}},m=function(e){return{type:u.a.CREATE_TASK,payload:e}},p=function(e){return{type:u.a.UPDATE_TASK,payload:e}},f=function(e){return{type:u.a.DELETE_TASK,payload:e}},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c,u,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"BEGIN_API_CALL"}),t.prev=1,c=n(),u=c.task,t.next=5,s.d(e);case 5:l=t.sent,a(i(l.data.items)),l.data.count!==u.count&&a(o(l.data.count)),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(1),a((t.t0,{type:"API_CALL_ERROR"})),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"BEGIN_API_CALL"}),t.next=4,s.c(e);case 4:n=t.sent,a(l(n.data.item)),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),a((t.t0,{type:"API_CALL_ERROR"})),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a({type:"BEGIN_API_CALL"}),!e._id){t.next=16;break}return t.prev=2,t.next=5,s.f(e);case 5:return n=t.sent,a(p(n.data.item)),t.abrupt("return",n.data.item);case 10:throw t.prev=10,t.t0=t.catch(2),a((t.t0,{type:"API_CALL_ERROR"})),t.t0;case 14:t.next=28;break;case 16:return t.prev=16,t.next=19,s.a(e);case 19:return c=t.sent,a(m(c.data.item)),t.abrupt("return",c.data.item);case 24:throw t.prev=24,t.t1=t.catch(16),a((t.t1,{type:"API_CALL_ERROR"})),t.t1;case 28:case"end":return t.stop()}}),t,null,[[2,10],[16,24]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(t){return s.b(e).then((function(a){return t(f(e)),a})).catch((function(e){throw t({type:"API_CALL_ERROR"}),e}))}}}}]);
//# sourceMappingURL=13.efc88e8e.chunk.js.map