(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{268:function(e,t,a){},269:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},577:function(e,t,a){"use strict";a.r(t);var n=a(79),r=a.n(n),l=a(80);r.a.interceptors.request.use((function(e){return e.headers.Authorization=l.a.getAuthHeader(),e}));var c=a(17),o=a(0),i=a.n(o),s=a(2),u=a(94),m=a(559),E=a(560),d=a(556),g=a(265),h=a(61),p=a(153),f=a(27),b=a(81),v=a(82),O=a(154),S=a(152),k=function(e){Object(O.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleLogout=function(e){e.preventDefault(),l.a.logout(),n.setState({redirect:!0})},n.state={redirect:!1},n}return Object(v.a)(a,[{key:"render",value:function(){return this.state.redirect?i.a.createElement(s.a,{to:"/login"}):i.a.createElement("span",{onClick:this.handleLogout},"Logout")}}]),a}(i.a.Component),j=a(553),N=a(555),A=a(574),w=a(585),I=a(557),K=a(558),_=a(586),x=a(587),T=a(511),M=a(270),R=a.n(M),y=a(271),L=a.n(y),Y=a(547),C=(a(268),a(22)),P=a(269),U=a.n(P),z=Object(Y.a)((function(e){var t;return{root:{flexGrow:1},Toolbar:{minHeight:"auto"},MenuList:{padding:0,"& li":(t={},Object(f.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(f.a)(t,"padding","0"),t)},spacer:{flexGrow:1},Grid:{maxWidth:100}}})),J=function(e){var t=e.toggleMenu,a=e.toggleAvatarMenu,n=e.isDesktop,r=e.anchorEl,l=e.closeAvatarMenu,c=(Object(p.a)(e,["toggleMenu","toggleAvatarMenu","isDesktop","anchorEl","closeAvatarMenu"]),z());return i.a.createElement("div",{className:"top-header"},i.a.createElement(j.a,{position:"static",color:"primary"},i.a.createElement(N.a,{className:"toolbar-custom"},i.a.createElement(A.a,{className:"logo-wrapper"},i.a.createElement(d.a,{container:!0},i.a.createElement(d.a,{item:!0},i.a.createElement(C.c,{to:"/",className:"page-logo"},i.a.createElement(w.a,{alt:"logo",src:U.a}))),i.a.createElement(d.a,{item:!0},i.a.createElement(I.a,{className:"toggle-top-level-links",edge:"start",color:"inherit","aria-label":"menu",onClick:t},i.a.createElement(R.a,null))))),i.a.createElement(K.a,{in:n},i.a.createElement(_.a,{className:c.MenuList+" top-level-links"},i.a.createElement(x.a,null,i.a.createElement(C.c,{activeClassName:"selected",exact:!0,to:"/"},"Home")),i.a.createElement(x.a,null,i.a.createElement(C.c,{activeClassName:"selected",to:"/task"},"Tasks")),i.a.createElement(x.a,null,i.a.createElement(C.c,{activeClassName:"selected",to:"/test"},"Test")))),i.a.createElement("span",{className:"spacer"}),i.a.createElement(A.a,{className:"header-icons"},i.a.createElement(I.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:a},i.a.createElement(L.a,null))))),i.a.createElement(T.a,{anchorEl:r,keepMounted:!0,open:!!r,onClose:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},className:"avatar-menu"},i.a.createElement(x.a,null,i.a.createElement(C.b,{to:"/profile"},"Profile")),i.a.createElement(x.a,null,i.a.createElement(k,null))))};var D=function(){var e=Object(o.useState)(null),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(window.outerWidth>600),l=Object(h.a)(r,2),c=l[0],s=l[1];Object(o.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}));var u=function(){window.outerWidth>600?s(!0):s(!1)};return i.a.createElement(J,{toggleMenu:function(){s(!c)},toggleAvatarMenu:function(e){n(e.currentTarget)},closeAvatarMenu:function(){n(null)},anchorEl:a,isDesktop:c})},H=i.a.createElement(u.a,null),W=Object(c.a)((function(){return a.e(17).then(a.bind(null,566))}),{fallback:H}),X=Object(c.a)((function(){return a.e(18).then(a.bind(null,567))})),B=Object(c.a)((function(){return a.e(16).then(a.bind(null,583))}),{fallback:H}),G=Object(c.a)((function(){return Promise.all([a.e(4),a.e(15)]).then(a.bind(null,568))}));t.default=function(){var e=Object(s.h)();return l.a.isLoggedIn()?i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null,i.a.createElement("title",null,"Mern Starter Kit"),i.a.createElement("meta",{name:"description",content:"A starter kit for building web apps using MongoDB, ExpressJS, ReactJS & NodeJS"})),i.a.createElement(m.a,null),i.a.createElement(D,null),i.a.createElement("br",null),i.a.createElement(E.a,{maxWidth:!1,className:"main-content",style:{marginBottom:"30px"}},i.a.createElement(d.a,{container:!0,spacing:4},i.a.createElement(d.a,{item:!0,xs:12,md:8},i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/"}," ",i.a.createElement(W,null)),i.a.createElement(s.b,{path:"/task"}," ",i.a.createElement(B,null)),i.a.createElement(s.b,null,i.a.createElement(X,null)))),i.a.createElement(d.a,{item:!0,xs:12,md:4},i.a.createElement("h1",null,"Aside"),i.a.createElement(G,null))))):(l.a.setRedirectedUrl(e.pathname),i.a.createElement(s.a,{to:"/login"}))}},80:function(e,t,a){"use strict";var n=a(81),r=a(82),l=new(function(){function e(){var t=this;Object(n.a)(this,e),this.setLoginSession=function(e){t.loggedIn=!0,localStorage.setItem(t.TOKEN_KEY,e.token),localStorage.setItem(t.USER_KEY,JSON.stringify(e.user)),localStorage.setItem(t.EXPIRES_AT_KEY,e.expiresAt)},this.getAuthHeader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""!==e?e:"Bearer "+localStorage.getItem(t.TOKEN_KEY)},this.setRedirectedUrl=function(e){t.redirectedUrl=e},this.getRedirectedUrl=function(){return t.redirectedUrl},this.loggedIn=!1,this.redirectedUrl=!1,this.TOKEN_KEY="appToken",this.USER_KEY="APP_USER",this.EXPIRES_AT_KEY="expiresAt"}return Object(r.a)(e,[{key:"login",value:function(e,t){var a=this;return new Promise((function(n,r){fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return 200!==e.status?e.json().then((function(e){throw e})):e.json()})).then((function(e){a.setLoginSession(e),n(e)})).catch((function(e){r(e)}))}))}},{key:"logout",value:function(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),localStorage.removeItem(this.EXPIRES_AT_KEY)}},{key:"isLoggedIn",value:function(){var e=JSON.parse(localStorage.getItem(this.EXPIRES_AT_KEY));return Date.now()<e}}]),e}());t.a=l},94:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(584),c=a(552),o=a(547),i=Object(o.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff",background:"transparent"}}}));t.a=function(){var e=i();return r.a.createElement("div",null,r.a.createElement(l.a,{className:e.backdrop,open:!0},r.a.createElement(c.a,{size:60})))}}}]);
//# sourceMappingURL=11.25bb0780.chunk.js.map