(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{333:function(e,t,a){"use strict";a.r(t);var n=a(85),r=a(0),c=a.n(r),u=a(23),s=a(7),i=a(62),o=a(2),l=a(324),m=a(325),p=a(171),f=a(326),d=a(321),v=function(e){var t=e.items,a=e.remove,n=Object(o.g)();return c.a.createElement("div",{className:"TaskList"},t.map((function(e,t){return c.a.createElement(l.a,{key:t,className:"card-item",variant:"outlined"},c.a.createElement(m.a,null,c.a.createElement(p.a,{variant:"h4"},e.title,c.a.createElement(p.a,{variant:"caption"},c.a.createElement("span",{className:"custom-badge ".concat(e.status)},e.status))),c.a.createElement(p.a,{dangerouslySetInnerHTML:{__html:e.description}}),c.a.createElement(f.a,null,c.a.createElement(d.a,{size:"small",color:"primary",onClick:function(){return n.push("/task/".concat(e._id))}},"Details"),c.a.createElement(d.a,{size:"small",color:"primary",onClick:function(){return n.push("/task/edit/".concat(e._id))}},"Edit"),c.a.createElement(d.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return a(e._id)}},"remove"))))})))},E=a(61),k=a(330),g=a(83),h=a.n(g),y=function(e){var t=e.count,a=Object(o.g)(),n=h.a.parse(a.location.search),u=Object(r.useState)(parseInt(n.page)||1),s=Object(E.a)(u,1)[0];return t>1?c.a.createElement(k.a,{color:"secondary",shape:"rounded",size:"small",id:"pagination",count:t,defaultPage:s,onChange:function(e,t){var n=h.a.parse(a.location.search);n.page=t;var r=h.a.stringify(n);a.push({search:r})}}):null},b=a(312),T=a(273),_=a(335),j=a(342),O=a(266),A=a.n(O),C=[{name:"Date added (oldest)",value:"createdAt"},{name:"Date added (newest)",value:"-createdAt"},{name:"Title (a-z)",value:"title"},{name:"Title (z-a)",value:"-title"}],S=function(){var e=Object(o.g)(),t=h.a.parse(e.location.search),a=Object(r.useState)(t.sortBy||C[0].value),n=Object(E.a)(a,2),u=n[0],s=n[1];return c.a.createElement(b.a,{container:!0,alignItems:"center",spacing:1},c.a.createElement(b.a,{item:!0},c.a.createElement(A.a,null)),c.a.createElement(b.a,{item:!0},c.a.createElement(T.a,{htmlFor:"sortBy"},"Sort By:")),c.a.createElement(b.a,{item:!0},c.a.createElement(_.a,{id:"sortBy",value:u,onChange:function(t){var a=t.target.value;s(a);var n=h.a.parse(e.location.search);n.sortBy=a;var r=h.a.stringify(n);e.push({search:r})}},C.map((function(e,t){return c.a.createElement(j.a,{key:t,value:e.value},e.name)})))))},I=a(267),B=a.n(I),x=[{name:"1",value:"1"},{name:"5",value:"5"},{name:"10",value:"10"},{name:"25",value:"25"},{name:"50",value:"50"},{name:"100",value:"100"}],w=function(){var e=Object(o.g)(),t=h.a.parse(e.location.search),a=Object(r.useState)(t.limit||x[2].value),n=Object(E.a)(a,2),u=n[0],s=n[1];return c.a.createElement(b.a,{container:!0,spacing:1,alignItems:"center"},c.a.createElement(b.a,{item:!0},c.a.createElement(B.a,null)),c.a.createElement(b.a,{item:!0},c.a.createElement(T.a,{htmlFor:"limitResult"},"Items per page:")),c.a.createElement(b.a,{item:!0},c.a.createElement(_.a,{id:"limitResult",value:u,onChange:function(t){var a=t.target.value;s(a);var n=h.a.parse(e.location.search);n.limit=a;var r=h.a.stringify(n);e.push({search:r})}},x.map((function(e,t){return c.a.createElement(j.a,{key:t,value:e.value},e.name)})))))},L=a(77),N=Object(u.b)((function(e,t){return{tasks:e.tasks,taskCount:e.taskCount,loading:e.apiCallInProgress>0}}),(function(e){return{actions:Object(s.b)(i,e)}}));t.default=N((function(e){var t=e.tasks,a=e.taskCount,u=e.loading,s=e.actions,i=(Object(n.a)(e,["tasks","taskCount","loading","actions"]),Object(o.g)()),l=h.a.parse(i.location.search),m=l.page||1,f=l.sortBy||"",d=parseInt(l.limit)||10,E=a?Math.round(a/d):1;Object(r.useEffect)((function(){k(!1)}),[m,f,d]);var k=function(e,t){var a=h.a.stringify(l);a=a?"?"+a:"",s.getTasks(a)};return u?c.a.createElement(L.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(p.a,{variant:"h3",gutterBottom:!0},"All Tasks ",c.a.createElement(p.a,{variant:"caption",gutterBottom:!0,onClick:function(){i.push("/task/create")},style:{cursor:"pointer"}},"New Task"))),c.a.createElement(b.a,{container:!0,spacing:2,alignItems:"center",justify:"flex-end",className:"filters-wrapper"},c.a.createElement(b.a,{item:!0},c.a.createElement(S,null)),c.a.createElement(b.a,{item:!0},c.a.createElement(w,null))),c.a.createElement(v,{items:t,remove:function(e){s.deleteTask(e).then((function(e){}))}}),c.a.createElement("br",null),c.a.createElement(y,{page:m,count:E,loadData:k}))}))},59:function(e,t,a){"use strict";t.a={login:"/api/auth/login",task:"/api/task"}},62:function(e,t,a){"use strict";a.r(t),a.d(t,"getTasksSuccess",(function(){return d})),a.d(t,"setTaskCount",(function(){return v})),a.d(t,"getTaskByIdSuccess",(function(){return E})),a.d(t,"creteTaskSuccess",(function(){return k})),a.d(t,"updateTaskSuccess",(function(){return g})),a.d(t,"deleteTaskSuccess",(function(){return h})),a.d(t,"getTasks",(function(){return y})),a.d(t,"getTaskById",(function(){return b})),a.d(t,"saveTask",(function(){return T})),a.d(t,"deleteTask",(function(){return _}));var n=a(71),r=a.n(n),c=a(73),u=a(9),s=a(74),i=a.n(s),o=a(59),l=function(e){var t=e?o.a.task+e:o.a.task;return i.a.get(t)},m=function(e){return i.a.get(o.a.task+"/".concat(e))},p=function(e){return i.a.post(o.a.task,e)},f=function(e){return i.a.put(o.a.task+"/".concat(e._id),e)};var d=function(e){return{type:u.a.READ_TASKS,payload:e}},v=function(e){return{type:u.a.SET_TASK_COUNT,payload:e}},E=function(e){return{type:u.a.GET_TASK_BY_ID,payload:e}},k=function(e){return{type:u.a.CREATE_TASK,payload:e}},g=function(e){return{type:u.a.UPDATE_TASK,payload:e}},h=function(e){return{type:u.a.DELETE_TASK,payload:e}},y=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"BEGIN_API_CALL"}),t.prev=1,t.next=4,l(e);case 4:n=t.sent,a(d(n.data.items)),a(v(n.data.count)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"BEGIN_API_CALL"}),t.next=4,m(e);case 4:n=t.sent,a(E(n.data.item)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a({type:"BEGIN_API_CALL"}),!e._id){t.next=15;break}return t.prev=2,t.next=5,f(e);case 5:return n=t.sent,a(g(n.data.item)),t.abrupt("return",n.data.item);case 10:t.prev=10,t.t0=t.catch(2);case 13:t.next=26;break;case 15:return t.prev=15,t.next=18,p(e);case 18:return c=t.sent,a(k(c.data.item)),t.abrupt("return",c.data.item);case 23:t.prev=23,t.t1=t.catch(15);case 26:case"end":return t.stop()}}),t,null,[[2,10],[15,23]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(t){return function(e){return i.a.delete(o.a.task+"/".concat(e))}(e).then((function(a){return t(h(e)),a})).catch((function(e){}))}}}}]);
//# sourceMappingURL=13.eb1b039d.chunk.js.map