(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{166:function(e,t,a){},167:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},332:function(e,t,a){"use strict";a.r(t);var n=a(74),r=a.n(n),l=a(67);r.a.interceptors.request.use((function(e){return e.headers.Authorization=l.a.getAuthHeader(),e}));var o=a(16),c=a(0),i=a.n(c),s=a(2),u=a(77),m=a(315),E=a(316),d=a(163),g=a(61),h=a(85),p=a(26),f=a(75),b=a(76),v=a(135),O=a(134),S=function(e){Object(v.a)(a,e);var t=Object(O.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).handleLogout=function(e){e.preventDefault(),l.a.logout(),n.setState({redirect:!0})},n.state={redirect:!1},n}return Object(b.a)(a,[{key:"render",value:function(){return this.state.redirect?i.a.createElement(s.a,{to:"/login"}):i.a.createElement("span",{onClick:this.handleLogout},"Logout")}}]),a}(i.a.Component),k=a(309),j=a(311),N=a(329),w=a(312),A=a(340),I=a(313),K=a(314),_=a(341),T=a(342),M=a(270),x=a(168),R=a.n(x),y=a(170),L=a.n(y),Y=a(303),C=(a(166),a(21)),U=a(167),P=a.n(U),z=Object(Y.a)((function(e){var t;return{root:{flexGrow:1},Toolbar:{minHeight:"auto"},MenuList:{padding:0,"& li":(t={},Object(p.a)(t,e.breakpoints.up("sm"),{display:"inline-block"}),Object(p.a)(t,"padding","0"),t)},spacer:{flexGrow:1},Grid:{maxWidth:100}}})),J=function(e){var t=e.toggleMenu,a=e.toggleAvatarMenu,n=e.isDesktop,r=e.anchorEl,l=e.closeAvatarMenu,o=(Object(h.a)(e,["toggleMenu","toggleAvatarMenu","isDesktop","anchorEl","closeAvatarMenu"]),z());return i.a.createElement("div",{className:"top-header"},i.a.createElement(k.a,{position:"static",color:"primary"},i.a.createElement(j.a,{className:"toolbar-custom"},i.a.createElement(N.a,{className:"logo-wrapper"},i.a.createElement(w.a,{container:!0},i.a.createElement(w.a,{item:!0},i.a.createElement(C.c,{to:"/",className:"page-logo"},i.a.createElement(A.a,{alt:"logo",src:P.a}))),i.a.createElement(w.a,{item:!0},i.a.createElement(I.a,{className:"toggle-top-level-links",edge:"start",color:"inherit","aria-label":"menu",onClick:t},i.a.createElement(R.a,null))))),i.a.createElement(K.a,{in:n},i.a.createElement(_.a,{className:o.MenuList+" top-level-links"},i.a.createElement(T.a,null,i.a.createElement(C.c,{activeClassName:"selected",exact:!0,to:"/"},"Home")),i.a.createElement(T.a,null,i.a.createElement(C.c,{activeClassName:"selected",to:"/task"},"Tasks")),i.a.createElement(T.a,null,i.a.createElement(C.c,{activeClassName:"selected",to:"/test"},"Test")))),i.a.createElement("span",{className:"spacer"}),i.a.createElement(N.a,{className:"header-icons"},i.a.createElement(I.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:a},i.a.createElement(L.a,null))))),i.a.createElement(M.a,{anchorEl:r,keepMounted:!0,open:!!r,onClose:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},className:"avatar-menu"},i.a.createElement(T.a,null,i.a.createElement(C.b,{to:"/profile"},"Profile")),i.a.createElement(T.a,null,i.a.createElement(S,null))))};var D=function(){var e=Object(c.useState)(null),t=Object(g.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(window.outerWidth>600),l=Object(g.a)(r,2),o=l[0],s=l[1];Object(c.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}));var u=function(){window.outerWidth>600?s(!0):s(!1)};return i.a.createElement(J,{toggleMenu:function(){s(!o)},toggleAvatarMenu:function(e){n(e.currentTarget)},closeAvatarMenu:function(){n(null)},anchorEl:a,isDesktop:o})},H=i.a.createElement(u.a,null),W=Object(o.a)((function(){return a.e(15).then(a.bind(null,322))}),{fallback:H}),X=Object(o.a)((function(){return a.e(16).then(a.bind(null,323))})),B=Object(o.a)((function(){return a.e(14).then(a.bind(null,338))}),{fallback:H});t.default=function(){var e=Object(s.h)();return l.a.isLoggedIn()?i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,null,i.a.createElement("title",null,"Mern Starter Kit"),i.a.createElement("meta",{name:"description",content:"A starter kit for building web apps using MongoDB, ExpressJS, ReactJS & NodeJS"})),i.a.createElement(m.a,null),i.a.createElement(D,null),i.a.createElement("br",null),i.a.createElement(E.a,{maxWidth:!1,className:"main-content",style:{marginBottom:"30px"}},i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/"}," ",i.a.createElement(W,null)),i.a.createElement(s.b,{path:"/task"}," ",i.a.createElement(B,null)),i.a.createElement(s.b,null,i.a.createElement(X,null))))):(l.a.setRedirectedUrl(e.pathname),i.a.createElement(s.a,{to:"/login"}))}},67:function(e,t,a){"use strict";var n=a(75),r=a(76),l=new(function(){function e(){var t=this;Object(n.a)(this,e),this.setLoginSession=function(e){t.loggedIn=!0,localStorage.setItem(t.TOKEN_KEY,e.token),localStorage.setItem(t.USER_KEY,JSON.stringify(e.user)),localStorage.setItem(t.EXPIRES_AT_KEY,e.expiresAt)},this.getAuthHeader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""!==e?e:"Bearer "+localStorage.getItem(t.TOKEN_KEY)},this.setRedirectedUrl=function(e){t.redirectedUrl=e},this.getRedirectedUrl=function(){return t.redirectedUrl},this.loggedIn=!1,this.redirectedUrl=!1,this.TOKEN_KEY="appToken",this.USER_KEY="APP_USER",this.EXPIRES_AT_KEY="expiresAt"}return Object(r.a)(e,[{key:"login",value:function(e,t){var a=this;return new Promise((function(n,r){fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return 200!==e.status?e.json().then((function(e){throw e})):e.json()})).then((function(e){a.setLoginSession(e),n(e)})).catch((function(e){r(e)}))}))}},{key:"logout",value:function(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY),localStorage.removeItem(this.EXPIRES_AT_KEY)}},{key:"isLoggedIn",value:function(){var e=JSON.parse(localStorage.getItem(this.EXPIRES_AT_KEY));return Date.now()<e}}]),e}());t.a=l},77:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(339),o=a(308),c=a(303),i=Object(c.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff",background:"transparent"}}}));t.a=function(){var e=i();return r.a.createElement("div",null,r.a.createElement(l.a,{className:e.backdrop,open:!0},r.a.createElement(o.a,{size:60})))}}}]);
//# sourceMappingURL=10.6f1123f1.chunk.js.map